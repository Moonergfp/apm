package apm.modules.message.entity;

import java.util.Date;
import java.util.List;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.JoinColumn;
import javax.persistence.Lob;
import javax.persistence.ManyToOne;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.persistence.Transient;

import apm.common.core.BaseEntity;
import apm.common.utils.excel.annotation.ExcelField;
import apm.modules.program.entity.Program;
import apm.modules.program.entity.PublishProgramTimeSettings;
import apm.modules.sys.entity.Office;
import apm.modules.sys.entity.User;
import apm.modules.terminal.entity.Terminal;

import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;
import org.hibernate.annotations.DynamicInsert;
import org.hibernate.annotations.DynamicUpdate;
import org.hibernate.validator.constraints.Length;

import com.fasterxml.jackson.annotation.JsonFormat;


/**
 * 发布 消息实体类Entity
 * @author gfp
 * @version 2015-09-08
 */
@Entity
@Table(name = "tbl_publish_message")//数据库表
@DynamicInsert @DynamicUpdate//可生成动态SQL语句，作用于修改插入或修改
//@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)//缓存策略
public class PublishMessage extends BaseEntity {
	
	private static final long serialVersionUID = 1L;
	
	private Message message;			//发布消息
	private User publishUser;			//发布人
	private User checkUser;				//审核人
	private Office office;				//所属机构
	private String advertiser;			//广告商
	private String checkStatus;			//审核状态（0：审核中，1：已审核，2：发布成功，3：发布失败，4：审核未通过）
	private String playTimes;			//播放时间段 用逗号隔开如（id1,id2,id3）
	private String terminalIds;			//发布终端 用逗号隔开（tid1,tid2,tid3）
	private List<Terminal> terminals;
	private List<PublishProgramTimeSettings> timeSettings; 
	
	@ManyToOne
	@JoinColumn(name = "message_id", nullable = false)
	public Message getMessage() {
		return message;
	}
	public void setMessage(Message message) {
		this.message = message;
	}
	@ManyToOne
	@JoinColumn(name = "publish_user_id", nullable = false)
	public User getPublishUser() {
			return publishUser;
	}
	public void setPublishUser(User publishUser) {
			this.publishUser = publishUser;
	}
	@ManyToOne
	@JoinColumn(name = "check_user_id", nullable = true)
	public User getCheckUser() {
			return checkUser;
	}
	public void setCheckUser(User checkUser) {
			this.checkUser = checkUser;
	}

	@ManyToOne
	@JoinColumn(name = "tenand_id", nullable = false)
	public Office getOffice() {
			return office;
	}
	public void setOffice(Office office) {
			this.office = office;
	}

	@Column(name = "advertiser_id", length = 22, nullable = true)
	public String getAdvertiser() {
			return advertiser;
	}
	public void setAdvertiser(String advertiser) {
			this.advertiser = advertiser;
	}

	@Column(name = "check_status", length = 1, nullable = false)
	public String getCheckStatus() {
			return checkStatus;
	}
	public void setCheckStatus(String checkStatus) {
			this.checkStatus = checkStatus;
	}

	@Column(name = "playtimes_ids", length = 255, nullable = false)
	public String getPlayTimes() {
			return playTimes;
	}
	public void setPlayTimes(String playTimes) {
			this.playTimes = playTimes;
	}

	@Lob
	@Column(name = "terminal_ids",  nullable = false,columnDefinition="TEXT")
	public String getTerminalIds() {
		return terminalIds;
	}

	public void setTerminalIds(String terminalIds) {
		this.terminalIds = terminalIds;
	}

	@Transient
	public List<Terminal> getTerminals() {
		return terminals;
	}
	public void setTerminals(List<Terminal> terminals) {
		this.terminals = terminals;
	}
	@Transient
	public List<PublishProgramTimeSettings> getTimeSettings() {
		return timeSettings;
	}
	public void setTimeSettings(List<PublishProgramTimeSettings> timeSettings) {
		this.timeSettings = timeSettings;
	}
}


